/*
	krpano iOS 4.2 gyroscope script
	by Aldo Hoeben / fieldofview.com
	
	https://github.com/fieldOfView/krpano_gyro
	
	This software is licensed under the CC-GNU GPL version 2.0 or later
	http://creativecommons.org/licenses/GPL/2.0/
*/
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('c 1h="1x";c e;c H=Z;c F=0;c j=0;c T=0;c R=0;c I;c k=d.W/1c;c 18=U(B X({r:0,q:M*k,A:0}));l(1a["1w"]){c 1j=1d(f(){e=1u.1y(1h);l(e){V(1j);19()}},1D)}f 19(){F=e.o("t.Q")+1c;j=e.o("t.S");L();e.G("1C",f(h){T=e.o("t.Q");R=e.o("t.S");V(I);H=D},D);e.G("1B",f(h){P(h)},D);e.G("1A",f(h){P(h)},D);1a.G("1r",f(h){l(!H){c 1i=U(B X({r:h["1l"]*k,q:h["1k"]*k,A:h["1s"]*k}));c O=1b(17(18,1i));e.1m("1n("+(-O.r/k+F)%1q+","+d.1p(d.1o((O.q/k+j),M),-M)+")")}},D)}f P(h){F+=e.o("t.Q")-T;j+=e.o("t.S")-R;L();H=Z}f L(){l(d.1e(j)>0){I=1d(f(){j*=0.1z;l(d.1e(j)<0.1){j=0;V(I)}},10)}}f U(m){c u=d.J(m.r);c s=d.K(m.r);c C=d.J(m.q);c v=d.K(m.q);c p=d.J(m.A);c w=d.K(m.A);N B Y(u*C,s*w-u*v*p,u*v*w+s*p,0,v,C*p,-C*w,0,-s*C,s*v*p+u*w,-s*v*w+u*p,0,0,0,0,0)}f 1b(g){c z;c x;c y;l(g[4]>0.1g){z=d.E(g[2],g[10]);y=d.W/2;x=0}1f l(g[4]<-0.1g){z=d.E(g[2],g[10]);y=-d.W/2;x=0}1f{z=d.E(-g[8],g[0]);x=d.E(-g[6],g[5]);y=d.1v(g[4])}N B X({r:z,q:y,A:x})}f 17(a,b){c n=B Y(0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0);1t(c i=0;i<16;i+=4){n[i]=b[i]*a[0]+b[i+1]*a[4]+b[i+2]*a[8]+b[i+3]*a[12];n[i+1]=b[i]*a[1]+b[i+1]*a[5]+b[i+2]*a[9]+b[i+3]*a[13];n[i+2]=b[i]*a[2]+b[i+1]*a[6]+b[i+2]*a[10]+b[i+3]*a[14];n[i+3]=b[i]*a[3]+b[i+1]*a[7]+b[i+2]*a[11]+b[i+3]*a[15]}N n}',62,102,'||||||||||||var|Math|gyro_krpano|function|matrix|event||gyro_voffset|degRad|if|euler|result|get|cb|pitch|yaw|sh|view|ch|sa|sb|bank|attitude|heading|roll|new|ca|true|atan2|gyro_hoffset|addEventListener|gyro_touching|gyro_offset_interval|cos|sin|gyro_smooth_voffset|90|return|gyro_vector|gyro_touchend|hlookat|gyro_voffset_start|vlookat|gyro_hoffset_start|eulerMatrix|clearInterval|PI|Object|Array|false||||||||multiply4x4|gyro_transform|gyro_init|window|matrixEuler|180|setInterval|abs|else|9999|gyro_objectname|gyro_matrix|gyro_init_interval|beta|alpha|call|lookat|min|max|360|deviceorientation|gamma|for|document|asin|DeviceOrientationEvent|krpanoSWFObject|getElementById|98|touchcancel|touchend|touchstart|100'.split('|'),0,{}))
