/*
	krpano gyroscope script for iOS 4.2 
	by Aldo Hoeben / fieldofview.com
	contributions by Sjeiti / ronvalstar.nl
	
	https://github.com/fieldOfView/krpano_gyro
	
	This software is licensed under the CC-GNU GPL version 2.0 or later
	http://creativecommons.org/licenses/GPL/2.0/
*/
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('b(!1C.18){7 18=c(E){7 H=!!L.1B;7 Q;b(E)Q=(1D(E)==\'1h\')?E.1E:E;y Q=\'1F\';7 a;7 o={B:B,V:V,1c:1c,1j:c(){k H},15:c(){k j},1A:14,1z:14,1l:c(){k n},1u:c(){k"[1h 18]"}};7 j=m;7 n=m;7 Y=m;7 U=0;7 f=0;7 A=0;7 u=0;7 z=9.11/R;b(H)1b();c 1b(){a=1v.1w(Q);b(a)1i();y 1x(1b,1I)}c 1i(){U=a.T("S.A");f=a.T("S.u");F();B();a.C("K",o);a.C("K.1j",h)}c B(){b(H&&!j){L.O("1f",1d,h);a.O("1k",19,h);a.O("p",p,h);a.O("1m",p,h);j=h;a.C("K.15",h)}k j}c V(){b(H&&j){L.P("1f",1d);a.P("1k",19);a.P("p",p);a.P("1m",p);j=m;a.C("K.15",m)}k j}c 1c(){b(j)k V();y k B()}c 14(1n){1M(1n){1e 0,"0",m,"m":n=m;17;1e 1,"1",h,"h":n=h;17;1J:n=!n;17}a.C("K.1l",n);F()}c 19(r){Y=h}c 1d(r){b(!Y&&j){U+=a.T("S.A")-A;f+=a.T("S.u")-u;7 I=1s(12 1g({g:r["1o"]*z,d:r["1L"]*z,Z:r["1K"]*z}));7 g=I.g/z;7 d=I.d/z;b(9.D(d)>1p){i=r.1o;b(L.I==l)i+=l;y b(L.I==-l)i+=-l;b(d>0)i+=R;i=i%W;b(9.D(i-g)>R)i+=(i<g)?W:-W;1a=9.1q(1,(9.D(d)-1p)/10);g=g*(1-1a)+i*1a}b(9.D(d+f)>l){f=(d+f>0)?(l-d):(-l-d)}A=(-g-R+U)%W;u=9.1y(9.1q((d+f),l),-l);a.1G("1H("+A+","+u+")");F()}}c p(r){F();Y=m}c F(){b(f!=0&&n){f*=0.1t;b(9.D(f)<0.1){f=0}}}c 1s(q){7 v=9.16(q.g);7 w=9.13(q.g);7 J=9.16(q.d);7 t=9.13(q.d);7 x=9.16(q.Z);7 s=9.13(q.Z);e=12 1O(w*s-v*t*x,-v*J,v*t*s+w*x,J*x,-t,-J*s,w*t*x+v*s,w*J,-w*t*s+v*x);7 N;7 G;7 M;b(e[3]>0.1r){N=9.X(e[2],e[8]);M=9.11/2;G=0}y b(e[3]<-0.1r){N=9.X(e[2],e[8]);M=-9.11/2;G=0}y{N=9.X(-e[6],e[0]);G=9.X(-e[5],e[4]);M=9.1N(e[3])}k 12 1g({g:N,d:M,Z:G})}k o}}',62,113,'|||||||var||Math|krpano|if|function|pitch|matrix|voffset|yaw|true|altyaw|isEnabled|return|90|false|isAdaptiveVOffset||touchend|euler|event|sb|sa|vlookat|ch|sh|cb|else|degRad|hlookat|enable|set|abs|krpanoObjectOrName|adaptVOffset|bank|isDeviceEnabled|orientation|ca|gyro|window|attitude|heading|addEventListener|removeEventListener|objectname|180|view|get|hoffset|disable|360|atan2|isTouching|roll||PI|new|sin|setAdaptiveVOffset|enabled|cos|break|krpanoGyro|handleTouchStart|factor|waitForElement|toggle|handleDeviceOrientation|case|deviceorientation|Object|object|startGyro|deviceAvailable|touchstart|adaptiveV|touchcancel|arg|alpha|70|min|9999|rotateEuler|98|toString|document|getElementById|setTimeout|max|setAdaptiveV|setadaptivev|DeviceOrientationEvent|this|typeof|pid|krpanoSWFObject|call|lookat|100|default|gamma|beta|switch|asin|Array'.split('|'),0,{}))

// Comment out or edit the following line if you want to use a custom krpano object or a different object name
var gyro = krpanoGyro();